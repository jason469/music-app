{% load widget_tweaks %}

<form action="POST" hx-boost="true">
    <div class="form-group mb-3">
        <label>{{ search_form.value.label_tag }}</label>
        {% render_field search_form.value class="form-control" %}
    </div>

    <div class="form-group mb-3">
        <label>{{ search_form.type.label_tag }}</label>
        {% render_field search_form.type class="form-control" %}
    </div>
    <button
            type="submit"
            hx-post="{% url 'website__search:htmx-all-search' %}"
            hx-target="#results"
    >
        Enter
    </button>
</form>

<script>
    document.body.addEventListener('htmx:beforeSwap', function (evt) {
        evt.detail.parameters['auth_token'] = getAuthToken(); // add a new parameter into the mix
    });
</script>

